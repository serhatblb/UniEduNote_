{% extends 'base.html' %}

{% block content %}
<!-- HERO SECTION -->
<div class="text-center py-5 mb-5">
    <h1 class="display-3 fw-bold mb-4" style="letter-spacing: -2px;">
        Ders NotlarÄ±na UlaÅŸmak <br>
        <span class="text-primary">HiÃ§ Bu Kadar Kolay OlmamÄ±ÅŸtÄ±.</span>
    </h1>
    <p class="lead text-muted mb-5 mx-auto" style="max-width: 600px;">
        Binlerce Ã¶ÄŸrenci notlarÄ±nÄ± burada paylaÅŸÄ±yor. Ä°ster not yÃ¼kle puan kazan, ister ihtiyacÄ±n olan nota anÄ±nda ulaÅŸ.
    </p>

    <div class="row justify-content-center g-4">
        <!-- Not Ara Card -->
        <div class="col-md-5 col-lg-4">
            <div class="card h-100 p-4 border-0 shadow-lg hover-scale text-start position-relative overflow-hidden">
                <div class="position-absolute top-0 end-0 p-3 opacity-10">
                    <i class="fa-solid fa-magnifying-glass fa-6x text-primary"></i>
                </div>
                <div class="position-relative z-1">
                    <div class="icon-box bg-primary bg-opacity-10 text-primary rounded-circle p-3 d-inline-block mb-3">
                        <i class="fa-solid fa-search fa-2x"></i>
                    </div>
                    <h3 class="fw-bold">Not Ara</h3>
                    <p class="text-muted mb-4">Ders kodu veya adÄ±yla arama yap, binlerce nota anÄ±nda eriÅŸ.</p>

                    <form action="{% url 'search' %}" method="GET">
                        <div class="input-group">
                            <input type="text" name="q" class="form-control bg-light border-0"
                                placeholder="Ã–rn: MAT101">
                            <button class="btn btn-primary" type="submit"><i
                                    class="fa-solid fa-arrow-right"></i></button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Not YÃ¼kle Card -->
        <div class="col-md-5 col-lg-4">
            <div
                class="card h-100 p-4 border-0 shadow-lg hover-scale text-start position-relative overflow-hidden bg-dark text-white">
                <div class="position-absolute top-0 end-0 p-3 opacity-10">
                    <i class="fa-solid fa-cloud-arrow-up fa-6x text-white"></i>
                </div>
                <div class="position-relative z-1">
                    <div class="icon-box bg-white bg-opacity-20 text-white rounded-circle p-3 d-inline-block mb-3">
                        <i class="fa-solid fa-upload fa-2x"></i>
                    </div>
                    <h3 class="fw-bold">Not YÃ¼kle</h3>
                    <p class="text-white-50 mb-4">Kendi notlarÄ±nÄ± paylaÅŸ, puan kazan ve topluluÄŸa katkÄ±da bulun.</p>

                    {% if user.is_authenticated %}
                    <!-- KullanÄ±cÄ± giriÅŸ yaptÄ±ysa doÄŸrudan yÃ¼kleme sayfasÄ±na gitmeli ama ders seÃ§imi lazÄ±m. 
                             Åimdilik profil sayfasÄ±na yÃ¶nlendiriyoruz veya bir modal aÃ§Ä±labilir. 
                             Basitlik iÃ§in 'Profilim'e gitsin, oradan yÃ¼klesin. -->
                    <a href="{% url 'profile' %}" class="btn btn-light w-100 fw-bold text-dark">Hemen YÃ¼kle <i
                            class="fa-solid fa-arrow-right ms-2"></i></a>
                    {% else %}
                    <a href="{% url 'login' %}" class="btn btn-light w-100 fw-bold text-dark">GiriÅŸ Yap ve YÃ¼kle <i
                            class="fa-solid fa-arrow-right ms-2"></i></a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>

<!-- STATS SECTION -->
<div class="row g-4 mb-5 text-center">
    <div class="col-md-4">
        <div class="p-4 rounded-4 bg-white shadow-sm">
            <h2 class="fw-bold text-primary mb-0">{{ total_notes }}+</h2>
            <p class="text-muted mb-0">PaylaÅŸÄ±lan Not</p>
        </div>
    </div>
    <div class="col-md-4">
        <div class="p-4 rounded-4 bg-white shadow-sm">
            <h2 class="fw-bold text-secondary mb-0">{{ total_users }}+</h2>
            <p class="text-muted mb-0">Ã–ÄŸrenci</p>
        </div>
    </div>
    <div class="col-md-4">
        <div class="p-4 rounded-4 bg-white shadow-sm">
            <h2 class="fw-bold text-success mb-0">100%</h2>
            <p class="text-muted mb-0">Ãœcretsiz EriÅŸim</p>
        </div>
    </div>
</div>

<!-- UNIVERSITIES SECTION -->
<div class="d-flex justify-content-between align-items-center mb-4">
    <h4 class="fw-bold m-0">ğŸ› Ãœniversiteler</h4>
    <a href="#" class="text-decoration-none fw-bold small">TÃ¼mÃ¼nÃ¼ GÃ¶r <i class="fa-solid fa-chevron-right"></i></a>
</div>

<div class="row g-4">
    {% for uni in universities %}
    <div class="col-md-3 col-sm-6">
        <div class="card h-100 hover-shadow text-center p-4">
            {% if uni.logo %}
            <img src="{{ uni.logo.url }}" class="mx-auto mb-3" style="height: 60px; object-fit: contain;">
            {% else %}
            <div class="mx-auto rounded-circle bg-light d-flex align-items-center justify-content-center mb-3"
                style="width:60px; height:60px;">
                <i class="fa-solid fa-building-columns text-secondary fs-4"></i>
            </div>
            {% endif %}
            <h6 class="fw-bold text-dark mb-0">{{ uni.name }}</h6>
            <small class="text-muted">{{ uni.faculties.count }} FakÃ¼lte</small>
            <a href="#" class="stretched-link"></a> <!-- Detay sayfasÄ± olmadÄ±ÄŸÄ± iÃ§in # -->
        </div>
    </div>
    {% empty %}
    <div class="col-12">
        <div class="alert alert-light text-center">HenÃ¼z Ã¼niversite eklenmemiÅŸ.</div>
    </div>
    {% endfor %}
</div>

<style>
    .hover-scale {
        transition: transform 0.3s;
    }

    .hover-scale:hover {
        transform: translateY(-5px);
    }

    .hover-shadow:hover {
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
    }
</style>
{% endblock %}